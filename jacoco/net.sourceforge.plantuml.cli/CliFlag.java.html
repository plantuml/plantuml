<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CliFlag.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">plantuml</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.plantuml.cli</a> &gt; <span class="el_source">CliFlag.java</span></div><h1>CliFlag.java</h1><pre class="source lang-java linenums">/* ========================================================================
 * PlantUML : a free UML diagram generator
 * ========================================================================
 *
 * (C) Copyright 2009-2025, Arnaud Roques
 *
 * Project Info:  https://plantuml.com
 * 
 * If you like this project or if you find it useful, you can support us at:
 * 
 * https://plantuml.com/patreon (only 1$ per month!)
 * https://plantuml.com/paypal
 * 
 * This file is part of PlantUML.
 *
 * PlantUML is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * PlantUML distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public
 * License for more details.
 *
 * You should have received a copy of the GNU General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301,
 * USA.
 *
 *
 * Original Author:  Arnaud Roques
 *
 *
 */
package net.sourceforge.plantuml.cli;

import java.util.Arrays;
import java.util.Collections;
import java.util.List;

import net.sourceforge.plantuml.FileFormat;
import net.sourceforge.plantuml.Run;
import net.sourceforge.plantuml.preproc.Stdlib;
import net.sourceforge.plantuml.stats.StatsUtils;
import net.sourceforge.plantuml.swing.ClipboardLoop;

<span class="fc" id="L48">public enum CliFlag {</span>

	// General:

<span class="fc" id="L52">	@CliFlagDoc(value = &quot;Show help and usage information&quot;, level = 0)</span>
<span class="fc" id="L53">	HELP(&quot;--help&quot;, aliases(&quot;-h&quot;, &quot;-?&quot;, DEPRECATED(&quot;-help&quot;)), Arity.UNARY_IMMEDIATE_ACTION, HelpPrint::printHelp),</span>

<span class="fc" id="L55">	@CliFlagDoc(value = &quot;Show extended help (advanced options)&quot;, level = 0)</span>
<span class="fc" id="L56">	HELP_MORE(&quot;--help-more&quot;, aliases(DEPRECATED(&quot;-h:more&quot;), DEPRECATED(&quot;-help:more&quot;)), Arity.UNARY_IMMEDIATE_ACTION,</span>
			HelpPrint::printHelpMore),

<span class="fc" id="L59">	@CliFlagDoc(value = &quot;Show PlantUML and Java version&quot;, level = 0)</span>
<span class="fc" id="L60">	VERSION(&quot;--version&quot;, aliases(DEPRECATED(&quot;-version&quot;)), Arity.UNARY_IMMEDIATE_ACTION, OptionPrint::printVersion),</span>

<span class="fc" id="L62">	@CliFlagDoc(value = &quot;Show information about PlantUML authors&quot;, level = 0)</span>
<span class="fc" id="L63">	AUTHOR(&quot;--author&quot;, aliases(&quot;--about&quot;, DEPRECATED(&quot;-authors&quot;), DEPRECATED(&quot;-about&quot;)), Arity.UNARY_IMMEDIATE_ACTION,</span>
			OptionPrint::printAbout), //

<span class="fc" id="L66">	@CliFlagDoc(value = &quot;Launch the graphical user interface&quot;, level = 0)</span>
<span class="fc" id="L67">	GUI(&quot;--gui&quot;, aliases(DEPRECATED(&quot;-gui&quot;)), Arity.UNARY_BOOLEAN,</span>
<span class="nc" id="L68">			() -&gt; GlobalConfig.getInstance().put(GlobalConfigKey.GUI, true)),</span>

<span class="fc" id="L70">	@CliFlagDoc(value = &quot;Render diagrams in dark mode&quot;, level = 0)</span>
<span class="fc" id="L71">	DARK_MODE(&quot;--dark-mode&quot;, aliases(DEPRECATED(&quot;-darkmode&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L73">	@CliFlagDoc(value = &quot;Enable verbose logging&quot;, level = 0)</span>
<span class="fc" id="L74">	VERBOSE(&quot;--verbose&quot;, aliases(DEPRECATED(&quot;-v&quot;), DEPRECATED(&quot;-verbose&quot;)), Arity.UNARY_BOOLEAN,</span>
<span class="fc" id="L75">			() -&gt; GlobalConfig.getInstance().put(GlobalConfigKey.VERBOSE, true)),</span>

<span class="fc" id="L77">	@CliFlagDoc(value = &quot;Print total processing time&quot;, level = 0)</span>
<span class="fc" id="L78">	DURATION(&quot;--duration&quot;, aliases(DEPRECATED(&quot;-duration&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L80">	@CliFlagDoc(value = &quot;Show a textual progress bar&quot;, level = 0)</span>
<span class="fc" id="L81">	PROGRESS(&quot;--progress-bar&quot;, aliases(DEPRECATED(&quot;-progress&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L83">	@CliFlagDoc(value = &quot;Show splash screen with progress bar&quot;, level = 0)</span>
<span class="fc" id="L84">	SPLASH(&quot;--splash-screen&quot;, aliases(DEPRECATED(&quot;-splash&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L86">	@CliFlagDoc(value = &quot;Check Graphviz installation&quot;, level = 0)</span>
<span class="fc" id="L87">	TEST_DOT(&quot;--check-graphviz&quot;, aliases(DEPRECATED(&quot;-testdot&quot;)), Arity.UNARY_IMMEDIATE_ACTION,</span>
			OptionPrint::printCheckGraphviz),

<span class="fc" id="L90">	@CliFlagDoc(value = &quot;Start internal HTTP server for rendering (default port : 4242)&quot;, usage = &quot;--http-server[:&lt;port&gt;]&quot;, level = 0)</span>
<span class="fc" id="L91">	PICOWEB(&quot;--http-server&quot;, aliases(DEPRECATED(&quot;-picoweb&quot;)), Arity.UNARY_OPTIONAL_COLON),</span>

	// Input &amp; preprocessing:

<span class="fc" id="L95">	@CliFlagDoc(value = &quot;Exclude input files matching the given pattern&quot;, usage = &quot;--exclude &lt;pattern&gt;&quot;, level = 1, newGroup = &quot;Input &amp; preprocessing&quot;)</span>
<span class="fc" id="L96">	EXCLUDE(&quot;--exclude&quot;, aliases(&quot;-x&quot;, DEPRECATED(&quot;-exclude&quot;)), Arity.BINARY_NEXT_ARGUMENT_VALUE),</span>

<span class="fc" id="L98">	@CliFlagDoc(value = &quot;Read source from stdin, write result to stdout&quot;, level = 0)</span>
<span class="fc" id="L99">	PIPE(&quot;--pipe&quot;, aliases(&quot;-p&quot;, DEPRECATED(&quot;-pipe&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L101">	PIPEMAP(&quot;-pipemap&quot;, Arity.UNARY_BOOLEAN), //</span>
<span class="fc" id="L102">	PIPEDELIMITOR(&quot;-pipedelimitor&quot;, Arity.BINARY_NEXT_ARGUMENT_VALUE), //</span>
<span class="fc" id="L103">	PIPENOSTDERR(&quot;-pipenostderr&quot;, Arity.UNARY_BOOLEAN), //</span>

<span class="fc" id="L105">	@CliFlagDoc(&quot;Generate the Nth image with pipe option&quot;)</span>
	@CliDefaultValue(&quot;0&quot;)
<span class="fc" id="L107">	PIPE_IMAGE_INDEX(&quot;--pipe-image-index&quot;, aliases(DEPRECATED(&quot;-pipeimageindex&quot;)), Arity.BINARY_NEXT_ARGUMENT_VALUE),</span>

<span class="fc" id="L109">	@CliFlagDoc(value = &quot;Define a preprocessing variable (equivalent to '!define &lt;var&gt; &lt;value&gt;')&quot;, usage = &quot;-d, --define &lt;VAR&gt;=&lt;value&gt;&quot;, level = 0)</span>
	DEFINE(&quot;-D&quot;, Arity.UNARY_INLINE_KEY_OR_KEY_VALUE), //
<span class="fc" id="L111">	DEFINE_LONG(&quot;--define&quot;, Arity.BINARY_NEXT_ARGUMENT_VALUE), //</span>

<span class="fc" id="L113">	@CliFlagDoc(value = &quot;Include external file (as with '!include &lt;file&gt;')&quot;, usage = &quot;-I, --include &lt;file&gt;&quot;, level = 1)</span>
	INCLUDE(&quot;-I&quot;, Arity.UNARY_INLINE_KEY_OR_KEY_VALUE), //
<span class="fc" id="L115">	INCLUDE_LONG(&quot;--include&quot;, Arity.BINARY_NEXT_ARGUMENT_VALUE), //</span>

<span class="fc" id="L117">	@CliFlagDoc(value = &quot;Set pragma (equivalent to '!pragma &lt;key&gt; &lt;value&gt;')&quot;, usage = &quot;-P, --pragma &lt;key&gt;=&lt;value&gt;&quot;, level = 1)</span>
	PRAGMA(&quot;-P&quot;, Arity.UNARY_INLINE_KEY_OR_KEY_VALUE), //
<span class="fc" id="L119">	PRAGMA_LONG(&quot;--pragma&quot;, Arity.BINARY_NEXT_ARGUMENT_VALUE), //</span>

<span class="fc" id="L121">	@CliFlagDoc(value = &quot;Set skin parameter (equivalent to 'skinparam &lt;key&gt; &lt;value&gt;')&quot;, usage = &quot;--skinparam &lt;key&gt;=&lt;value&gt;&quot;, level = 1)</span>
	SKINPARAM(&quot;-S&quot;, Arity.UNARY_INLINE_KEY_OR_KEY_VALUE), //
<span class="fc" id="L123">	SKINPARAM_LONG(&quot;--skinparam&quot;, Arity.BINARY_NEXT_ARGUMENT_VALUE), //</span>

<span class="fc" id="L125">	@CliFlagDoc(value = &quot;Apply a theme&quot;, usage = &quot;--theme &lt;name&gt;&quot;, level = 1)</span>
<span class="fc" id="L126">	THEME(&quot;--theme&quot;, aliases(DEPRECATED(&quot;-theme&quot;)), Arity.BINARY_NEXT_ARGUMENT_VALUE),</span>

<span class="fc" id="L128">	@CliFlagDoc(value = &quot;Specify configuration file&quot;, usage = &quot;--config &lt;file&gt;&quot;, level = 1)</span>
<span class="fc" id="L129">	CONFIG(&quot;--config&quot;, aliases(DEPRECATED(&quot;-config&quot;)), Arity.BINARY_NEXT_ARGUMENT_VALUE),</span>

<span class="fc" id="L131">	@CliFlagDoc(value = &quot;Use a specific input charset&quot;, usage = &quot;--charset &lt;name&gt;&quot;, level = 1)</span>
	@CliDefaultValue(&quot;UTF-8&quot;)
<span class="fc" id="L133">	CHARSET(&quot;--charset&quot;, aliases(DEPRECATED(&quot;-charset&quot;)), Arity.BINARY_NEXT_ARGUMENT_VALUE),</span>

	// Execution control:

<span class="fc" id="L137">	@CliFlagDoc(value = &quot;Check diagram syntax without generating images&quot;, level = 0, newGroup = &quot;Execution control&quot;)</span>
<span class="fc" id="L138">	CHECK_ONLY(&quot;--check-syntax&quot;, aliases(&quot;--syntax-check&quot;, DEPRECATED(&quot;-checkonly&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L140">	@CliFlagDoc(value = &quot;Stop at the first syntax error&quot;, level = 0)</span>
<span class="fc" id="L141">	FAIL_FAST(&quot;--stop-on-error&quot;, aliases(DEPRECATED(&quot;-failfast&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L143">	@CliFlagDoc(value = &quot;Pre-check syntax of all inputs and stop faster on error&quot;, level = 0)</span>
<span class="fc" id="L144">	FAIL_FAST2(&quot;--check-before-run&quot;, aliases(DEPRECATED(&quot;-failfast2&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L146">	@CliFlagDoc(value = &quot;Do not generate error images for diagrams with syntax errors&quot;, level = 0)</span>
<span class="fc" id="L147">	NO_ERROR_IMAGE(&quot;--no-error-image&quot;, aliases(DEPRECATED(&quot;-noerror&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L149">	@CliFlagDoc(value = &quot;Set Graphviz processing timeout (in seconds)&quot;, usage = &quot;--graphviz-timeout &lt;seconds&gt;&quot;, level = 1)</span>
<span class="fc" id="L150">	TIMEOUT(&quot;--graphviz-timeout&quot;, aliases(DEPRECATED(&quot;-timeout&quot;)), Arity.BINARY_NEXT_ARGUMENT_VALUE),</span>

<span class="fc" id="L152">	@CliFlagDoc(value = &quot;Use &lt;n&gt; threads for processing  (auto = available processors)&quot;, usage = &quot;--threads &lt;n|auto&gt;&quot;, level = 1)</span>
<span class="fc" id="L153">	NB_THREAD(&quot;--threads&quot;, aliases(DEPRECATED(&quot;-nbthread&quot;)), Arity.BINARY_NEXT_ARGUMENT_VALUE),</span>

	// Metadata &amp; assets:
<span class="fc" id="L156">	@CliFlagDoc(value = &quot;Extract embedded PlantUML source from PNG or SVG metadata&quot;, level = 0, newGroup = &quot;Metadata &amp; assets&quot;)</span>
<span class="fc" id="L157">	RETRIEVE_METADATA(&quot;--extract-source&quot;, aliases(DEPRECATED(&quot;-metadata&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L159">	@CliFlagDoc(value = &quot;Do not include metadata in generated files&quot;, level = 1)</span>
<span class="fc" id="L160">	NO_METADATA(&quot;--disable-metadata&quot;, aliases(DEPRECATED(&quot;-nometadata&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L162">	@CliFlagDoc(value = &quot;Skip PNG/SVG files that are already up-to-date (using metadata)&quot;, level = 0)</span>
<span class="fc" id="L163">	CHECK_METADATA(&quot;--skip-fresh&quot;, aliases(DEPRECATED(&quot;-checkmetadata&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L165">	@CliFlagDoc(value = &quot;Encode a sprite definition from an image file&quot;, usage = &quot;--sprite &lt;4|8|16[z]&gt; &lt;file&gt;&quot;, level = 0)</span>
<span class="fc" id="L166">	ENCODE_SPRITE(&quot;--encode-sprite&quot;, aliases(DEPRECATED(&quot;-sprite&quot;), DEPRECATED(&quot;-encodesprite&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L168">	@CliFlagDoc(value = &quot;Generate an encoded PlantUML URL from a source file&quot;, level = 1)</span>
<span class="fc" id="L169">	COMPUTE_URL(&quot;--encode-url&quot;, aliases(&quot;--compute-url&quot;, DEPRECATED(&quot;-computeurl&quot;), DEPRECATED(&quot;-encodeurl&quot;)),</span>
			Arity.UNARY_BOOLEAN),

<span class="fc" id="L172">	@CliFlagDoc(value = &quot;Decode a PlantUML encoded URL back to its source&quot;, usage = &quot;--decode-url &lt;string&gt;&quot;, level = 1)</span>
<span class="fc" id="L173">	DECODE_URL(&quot;--decode-url&quot;, aliases(DEPRECATED(&quot;-decodeurl&quot;)), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L175">	@CliFlagDoc(value = &quot;Print the list of PlantUML language keywords&quot;, level = 1)</span>
<span class="fc" id="L176">	LANGUAGE(&quot;--list-keywords&quot;, aliases(DEPRECATED(&quot;-language&quot;)), Arity.UNARY_IMMEDIATE_ACTION,</span>
			OptionPrint::printListKeywords),

<span class="fc" id="L179">	@CliFlagDoc(value = &quot;Specify the path to the Graphviz 'dot' executable&quot;, usage = &quot;--dot-path &lt;path-to-dot-exe&gt;&quot;, level = 1)</span>
<span class="fc" id="L180">	GRAPHVIZ_DOT(&quot;--dot-path&quot;, aliases(DEPRECATED(&quot;-graphvizdot&quot;), DEPRECATED(&quot;-graphviz_dot&quot;)),</span>
			Arity.BINARY_NEXT_ARGUMENT_VALUE),

<span class="fc" id="L183">	@CliFlagDoc(value = &quot;Start a local FTP server for diagram rendering (rarely used)&quot;, level = 1)</span>
<span class="fc" id="L184">	FTP(&quot;--ftp-server&quot;, aliases(DEPRECATED(&quot;-ftp&quot;)), Arity.UNARY_OPTIONAL_COLON),</span>

	// Output control
<span class="fc" id="L187">	@CliFlagDoc(value = &quot;Generate output files in the specified directory&quot;, usage = &quot;--output-dir &lt;dir&gt;&quot;, level = 1, newGroup = &quot;Output control&quot;)</span>
<span class="fc" id="L188">	OUTPUT_DIR(&quot;--output-dir&quot;, aliases(&quot;-o&quot;, DEPRECATED(&quot;output_dir&quot;), DEPRECATED(&quot;-output&quot;), DEPRECATED(&quot;-odir&quot;)),</span>
			Arity.BINARY_NEXT_ARGUMENT_VALUE),

<span class="fc" id="L191">	@CliFlagDoc(value = &quot;Allow overwriting of read-only output files&quot;, level = 1)</span>
<span class="fc" id="L192">	OVERWRITE(&quot;--overwrite&quot;, aliases(&quot;--force-overwrite&quot;, DEPRECATED(&quot;-overwrite&quot;)), Arity.UNARY_BOOLEAN,</span>
<span class="fc" id="L193">			() -&gt; GlobalConfig.getInstance().put(GlobalConfigKey.OVERWRITE, true)),</span>

	// Other

<span class="fc" id="L197">	CLIPBOARD(&quot;--clipboard&quot;, Arity.UNARY_IMMEDIATE_ACTION, ClipboardLoop::runOnce), //</span>

<span class="fc" id="L199">	CLIPBOARDLOOP(&quot;--clipboardloop&quot;, Arity.UNARY_IMMEDIATE_ACTION, ClipboardLoop::runLoop), //</span>

<span class="fc" id="L201">	@CliFlagDoc(&quot;Generate intermediate Svek files&quot;)</span>
<span class="fc" id="L202">	DEBUG_SVEK(&quot;-debugsvek&quot;, aliases(&quot;-debug_svek&quot;), Arity.UNARY_BOOLEAN),</span>

<span class="fc" id="L204">	@CliFlagDoc(&quot;Pretend input files are located in given directory&quot;)</span>
	FILE_DIR(&quot;-filedir&quot;, Arity.BINARY_NEXT_ARGUMENT_VALUE),

<span class="fc" id="L207">	@CliFlagDoc(&quot;Override %filename% variable&quot;)</span>
	FILENAME(&quot;-filename&quot;, Arity.BINARY_NEXT_ARGUMENT_VALUE),

<span class="pc" id="L210">	HEADLESS(&quot;-headless&quot;, Arity.UNARY_BOOLEAN, () -&gt; System.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;)),</span>

<span class="fc" id="L212">	@CliFlagDoc(&quot;List fonts available on your system&quot;)</span>
	PRINT_FONTS(&quot;-printfonts&quot;, Arity.UNARY_IMMEDIATE_ACTION, Run::printFonts),

<span class="fc" id="L215">	@CliFlagDoc(&quot;Print standard library information&quot;)</span>
	STD_LIB(&quot;-stdlib&quot;, Arity.UNARY_IMMEDIATE_ACTION, Stdlib::printStdLib),

<span class="fc" id="L218">	STDRPT(&quot;-stdrpt&quot;, Arity.UNARY_OPTIONAL_COLON),</span>

<span class="fc" id="L220">	@CliFlagDoc(&quot;Report syntax errors from stdin without generating images&quot;)</span>
	SYNTAX(&quot;-syntax&quot;, Arity.UNARY_BOOLEAN),

<span class="fc" id="L223">	LICENSE(&quot;-license&quot;, aliases(&quot;-licence&quot;), Arity.UNARY_IMMEDIATE_ACTION, OptionPrint::printLicense),</span>

<span class="pc" id="L225">	WORD(&quot;-word&quot;, Arity.UNARY_BOOLEAN, () -&gt; GlobalConfig.getInstance().put(GlobalConfigKey.WORD, true)),</span>

<span class="fc" id="L227">	USE_SEPARATOR_MINUS(&quot;-useseparatorminus&quot;, Arity.UNARY_BOOLEAN,</span>
<span class="fc" id="L228">			() -&gt; GlobalConfig.getInstance().put(GlobalConfigKey.FILE_SEPARATOR, &quot;-&quot;)),</span>

	// Output format (choose one)

<span class="fc" id="L232">	@CliFlagDoc(value = &quot;Set the output format for generated diagrams\n(e.g. png, svg, pdf, eps, latex, txt, utxt, obfuscate, preproc...)&quot;, level = 0, usage = &quot;-f, --format &lt;name&gt;&quot;, newGroup = &quot;Output format (choose one)&quot;)</span>
<span class="fc" id="L233">	FORMAT(&quot;--format&quot;, aliases(&quot;-f&quot;), Arity.BINARY_NEXT_ARGUMENT_VALUE),</span>
	
<span class="fc" id="L235">	@CliFlagDoc(value = &quot;Generate images in EPS format&quot;, level = 0, newGroup = &quot;Available formats&quot;)</span>
<span class="fc" id="L236">	T_EPS(&quot;--eps&quot;, aliases(DEPRECATED(&quot;-teps&quot;), DEPRECATED(&quot;-eps&quot;)), Arity.UNARY_BOOLEAN, FileFormat.EPS),</span>
<span class="fc" id="L237">	T_EPS_TEXT(&quot;--teps:text&quot;, aliases(DEPRECATED(&quot;-teps:text&quot;), DEPRECATED(&quot;-eps:text&quot;)), Arity.UNARY_BOOLEAN,</span>
			FileFormat.EPS_TEXT),

<span class="fc" id="L240">	@CliFlagDoc(value = &quot;Generate HTML files for class diagrams&quot;, level = 1)</span>
<span class="fc" id="L241">	T_HTML(&quot;--html&quot;, aliases(DEPRECATED(&quot;-thtml&quot;), DEPRECATED(&quot;-html&quot;)), Arity.UNARY_BOOLEAN, FileFormat.HTML),</span>

<span class="fc" id="L243">	@CliFlagDoc(value = &quot;Generate LaTeX/TikZ output&quot;, level = 0)</span>
<span class="fc" id="L244">	T_LATEX(&quot;--latex&quot;, aliases(DEPRECATED(&quot;-tlatex&quot;), DEPRECATED(&quot;-latex&quot;)), Arity.UNARY_BOOLEAN, FileFormat.LATEX),</span>

<span class="fc" id="L246">	@CliFlagDoc(value = &quot;Generate LaTeX/TikZ output without preamble&quot;, level = 1)</span>
<span class="fc" id="L247">	T_LATEX_NOPREAMBLE(&quot;--latex-nopreamble&quot;, aliases(DEPRECATED(&quot;-tlatex:nopreamble&quot;), DEPRECATED(&quot;-latex:nopreamble&quot;)),</span>
			Arity.UNARY_BOOLEAN, FileFormat.LATEX_NO_PREAMBLE),
	
<span class="fc" id="L250">	@CliFlagDoc(value = &quot;Replace text in diagrams with obfuscated strings to share diagrams safely&quot;, level = 0)</span>
<span class="fc" id="L251">	OBFUSCATE(&quot;--obfuscate&quot;, aliases(DEPRECATED(&quot;-cypher&quot;)), Arity.UNARY_BOOLEAN, FileFormat.OBFUSCATE),</span>

<span class="fc" id="L253">	@CliFlagDoc(value = &quot;Generate PDF images&quot;, level = 1)</span>
<span class="fc" id="L254">	T_PDF(&quot;--pdf&quot;, aliases(DEPRECATED(&quot;-tpdf&quot;), DEPRECATED(&quot;-pdf&quot;)), Arity.UNARY_BOOLEAN, FileFormat.PDF),</span>

<span class="fc" id="L256">	@CliFlagDoc(value = &quot;Generate PNG images (default)&quot;, level = 0)</span>
<span class="fc" id="L257">	T_PNG(&quot;--png&quot;, aliases(DEPRECATED(&quot;-tpng&quot;), DEPRECATED(&quot;-png&quot;)), Arity.UNARY_BOOLEAN, FileFormat.PNG),</span>

<span class="fc" id="L259">	@CliFlagDoc(value = &quot;Generate the preprocessed source after applying !include, !define... (no rendering)&quot;, level = 0)</span>
<span class="fc" id="L260">	PREPROCESS(&quot;--preproc&quot;, aliases(DEPRECATED(&quot;-preproc&quot;)),  Arity.UNARY_BOOLEAN, FileFormat.PREPROC),</span>

<span class="fc" id="L262">	@CliFlagDoc(value = &quot;Generate SCXML files for state diagrams&quot;, level = 1)</span>
<span class="fc" id="L263">	T_SCXML(&quot;--scxml&quot;, aliases(DEPRECATED(&quot;-tscxml&quot;)), Arity.UNARY_BOOLEAN, FileFormat.SCXML),</span>

<span class="fc" id="L265">	@CliFlagDoc(value = &quot;Generate SVG images&quot;, level = 0)</span>
<span class="fc" id="L266">	T_SVG(&quot;--svg&quot;, aliases(DEPRECATED(&quot;-tsvg&quot;), DEPRECATED(&quot;-svg&quot;)), Arity.UNARY_BOOLEAN, FileFormat.SVG),</span>

<span class="fc" id="L268">	@CliFlagDoc(value = &quot;Generate ASCII art diagrams&quot;, level = 0)</span>
<span class="fc" id="L269">	T_TXT(&quot;--txt&quot;, aliases(DEPRECATED(&quot;-ttxt&quot;), DEPRECATED(&quot;-txt&quot;)), Arity.UNARY_BOOLEAN, FileFormat.ATXT),</span>

<span class="fc" id="L271">	@CliFlagDoc(value = &quot;Generate ASCII art diagrams using Unicode characters&quot;, level = 0)</span>
<span class="fc" id="L272">	T_UTXT(&quot;--utxt&quot;, aliases(DEPRECATED(&quot;-tutxt&quot;), DEPRECATED(&quot;-utxt&quot;)), Arity.UNARY_BOOLEAN, FileFormat.UTXT),</span>

<span class="fc" id="L274">	@CliFlagDoc(value = &quot;Generate VDX files&quot;, level = 1)</span>
<span class="fc" id="L275">	T_VDX(&quot;--vdx&quot;, aliases(DEPRECATED(&quot;-tvdx&quot;), DEPRECATED(&quot;-vdx&quot;)), Arity.UNARY_BOOLEAN, FileFormat.VDX),</span>

<span class="fc" id="L277">	@CliFlagDoc(value = &quot;Generate XMI files for class diagrams&quot;, level = 1)</span>
<span class="fc" id="L278">	T_XMI(&quot;--xmi&quot;, aliases(DEPRECATED(&quot;-txmi&quot;), DEPRECATED(&quot;-xmi&quot;)), Arity.UNARY_BOOLEAN, FileFormat.XMI_STANDARD),</span>
<span class="fc" id="L279">	T_XMI_ARGO(&quot;--txmi:argo&quot;, aliases(DEPRECATED(&quot;-xmi:argo&quot;)), Arity.UNARY_BOOLEAN, FileFormat.XMI_ARGO),</span>
<span class="fc" id="L280">	T_XMI_CUSTOM(&quot;--txmi:custom&quot;, aliases(DEPRECATED(&quot;-xmi:custom&quot;)), Arity.UNARY_BOOLEAN, FileFormat.XMI_CUSTOM),</span>
<span class="fc" id="L281">	T_XMI_SCRIPT(&quot;--txmi:script&quot;, aliases(DEPRECATED(&quot;-xmi:script&quot;)), Arity.UNARY_BOOLEAN, FileFormat.XMI_SCRIPT),</span>
<span class="fc" id="L282">	T_XMI_STAR(&quot;--txmi:star&quot;, aliases(DEPRECATED(&quot;-xmi:star&quot;)), Arity.UNARY_BOOLEAN, FileFormat.XMI_STAR),</span>

<span class="fc" id="L284">	T_BASE64(&quot;--tbase64&quot;, Arity.UNARY_BOOLEAN, FileFormat.BASE64),</span>
<span class="fc" id="L285">	T_BRAILLE(&quot;--tbraille&quot;, Arity.UNARY_BOOLEAN, FileFormat.BRAILLE_PNG),</span>


	// ************************ stats

<span class="fc" id="L290">	@CliFlagDoc(value = &quot;Disable statistics collection (default behavior)&quot;, level = 1, newGroup = &quot;Statistics&quot;)</span>
<span class="fc" id="L291">	DISABLE_STATS(&quot;--disable-stats&quot;, aliases(DEPRECATED(&quot;-disablestats&quot;)), Arity.UNARY_BOOLEAN,</span>
<span class="nc" id="L292">			() -&gt; GlobalConfig.getInstance().put(GlobalConfigKey.ENABLE_STATS, false)),</span>

<span class="fc" id="L294">	@CliFlagDoc(value = &quot;Enable statistics collection&quot;, level = 1)</span>
<span class="fc" id="L295">	ENABLE_STATS(&quot;--enable-stats&quot;, aliases(DEPRECATED(&quot;-enablestats&quot;)), Arity.UNARY_BOOLEAN,</span>
<span class="fc" id="L296">			() -&gt; GlobalConfig.getInstance().put(GlobalConfigKey.ENABLE_STATS, true)),</span>

<span class="fc" id="L298">	@CliFlagDoc(value = &quot;Export collected statistics to an HTML report and exit&quot;, level = 1)</span>
	DUMPHTMLSTATS(&quot;--export-stats-html&quot;, Arity.UNARY_IMMEDIATE_ACTION, StatsUtils::outHtml),

<span class="fc" id="L301">	@CliFlagDoc(value = &quot;Export collected statistics to a text report and exit&quot;, level = 1)</span>
	DUMPSTATS(&quot;--export-stats&quot;, Arity.UNARY_IMMEDIATE_ACTION, StatsUtils::dumpStats),

<span class="fc" id="L304">	@CliFlagDoc(value = &quot;Output general statistics in HTML format&quot;, level = 1)</span>
<span class="fc" id="L305">	HTML_STATS(&quot;--html-stats&quot;, aliases(DEPRECATED(&quot;-htmlstats&quot;)), Arity.UNARY_BOOLEAN,</span>
<span class="fc" id="L306">			() -&gt; StatsUtils.setHtmlStats(true)),</span>

<span class="fc" id="L308">	@CliFlagDoc(value = &quot;Output general statistics in XML format&quot;, level = 1)</span>
<span class="fc" id="L309">	XML_STATS(&quot;--xml-stats&quot;, aliases(DEPRECATED(&quot;-xmlstats&quot;)), Arity.UNARY_BOOLEAN, () -&gt; StatsUtils.setXmlStats(true)),</span>

<span class="fc" id="L311">	@CliFlagDoc(value = &quot;Generate statistics in real time during processing&quot;, level = 1)</span>
<span class="fc" id="L312">	REALTIME_STATS(&quot;--realtime-stats&quot;, aliases(DEPRECATED(&quot;-realtimestats&quot;)), Arity.UNARY_BOOLEAN,</span>
<span class="fc" id="L313">			() -&gt; StatsUtils.setRealTimeStats(true)),</span>

<span class="fc" id="L315">	@CliFlagDoc(value = &quot;Continuously print usage statistics during execution&quot;, level = 1)</span>
<span class="fc" id="L316">	LOOP_STATS(&quot;--loop-stats&quot;, aliases(DEPRECATED(&quot;-loopstats&quot;)), Arity.UNARY_IMMEDIATE_ACTION, StatsUtils::loopStats);</span>

	private final String flag;
	private final List&lt;String&gt; aliases;
	private final Arity type;
	private final Object foo;

	CliFlag(String flag, Arity type) {
<span class="fc" id="L324">		this(flag, Collections.emptyList(), type, null);</span>
<span class="fc" id="L325">	}</span>

	CliFlag(String flag, List&lt;String&gt; aliases, Arity type) {
<span class="fc" id="L328">		this(flag, aliases, type, null);</span>
<span class="fc" id="L329">	}</span>

	CliFlag(String flag, Arity type, CliAction foo) {
<span class="fc" id="L332">		this(flag, Collections.emptyList(), type, foo);</span>
<span class="fc" id="L333">	}</span>

	CliFlag(String flag, Arity type, Object foo) {
<span class="fc" id="L336">		this(flag, Collections.emptyList(), type, foo);</span>
<span class="fc" id="L337">	}</span>

<span class="fc" id="L339">	CliFlag(String flag, List&lt;String&gt; aliases, Arity type, Object foo) {</span>
<span class="fc" id="L340">		this.type = type;</span>
<span class="fc" id="L341">		this.flag = flag;</span>
<span class="fc" id="L342">		this.aliases = aliases;</span>
<span class="fc" id="L343">		this.foo = foo;</span>
<span class="fc" id="L344">	}</span>

<span class="fc" id="L346">	CliFlag(String flag, List&lt;String&gt; aliases, Arity type, CliAction foo) {</span>
<span class="fc" id="L347">		this.type = type;</span>
<span class="fc" id="L348">		this.flag = flag;</span>
<span class="fc" id="L349">		this.aliases = aliases;</span>
<span class="fc" id="L350">		this.foo = foo;</span>
<span class="fc" id="L351">	}</span>

	private static List&lt;String&gt; aliases(String... names) {
<span class="fc" id="L354">		return Arrays.asList(names);</span>
	}

	private static String DEPRECATED(String option) {
<span class="fc" id="L358">		return option;</span>
	}

	public String getFlag() {
<span class="fc" id="L362">		return flag;</span>
	}

	public List&lt;String&gt; getAliases() {
<span class="nc" id="L366">		return aliases;</span>
	}

	public Arity getType() {
<span class="fc" id="L370">		return type;</span>
	}

	boolean match(String tmp) {
<span class="fc bfc" id="L374" title="All 4 branches covered.">		if (type == Arity.UNARY_INLINE_KEY_OR_KEY_VALUE || type == Arity.UNARY_OPTIONAL_COLON) {</span>
<span class="fc bfc" id="L375" title="All 2 branches covered.">			for (String alias : aliases)</span>
<span class="fc bfc" id="L376" title="All 2 branches covered.">				if (tmp.startsWith(alias))</span>
<span class="fc" id="L377">					return true;</span>

<span class="fc" id="L379">			return tmp.startsWith(flag);</span>
		}

<span class="fc bfc" id="L382" title="All 2 branches covered.">		for (String alias : aliases)</span>
<span class="fc bfc" id="L383" title="All 2 branches covered.">			if (tmp.equals(alias))</span>
<span class="fc" id="L384">				return true;</span>

<span class="fc" id="L386">		return tmp.equals(flag);</span>
	}

	public String getFlagDoc() {
		try {
<span class="fc" id="L391">			final CliFlagDoc annotation = CliFlag.class.getField(this.name()).getAnnotation(CliFlagDoc.class);</span>
<span class="pc bpc" id="L392" title="1 of 4 branches missed.">			if (annotation != null &amp;&amp; !annotation.value().isEmpty())</span>
<span class="fc" id="L393">				return annotation.value();</span>

<span class="nc" id="L395">		} catch (NoSuchFieldException e) {</span>
			// Should never happen for enum constants
<span class="fc" id="L397">		}</span>
<span class="fc" id="L398">		return null;</span>
	}

	public String getNewgroup() {
		try {
<span class="fc" id="L403">			final CliFlagDoc annotation = CliFlag.class.getField(this.name()).getAnnotation(CliFlagDoc.class);</span>
<span class="pc bpc" id="L404" title="1 of 4 branches missed.">			if (annotation != null &amp;&amp; !annotation.value().isEmpty())</span>
<span class="fc" id="L405">				return annotation.newGroup();</span>

<span class="nc" id="L407">		} catch (NoSuchFieldException e) {</span>
			// Should never happen for enum constants
<span class="fc" id="L409">		}</span>
<span class="fc" id="L410">		return &quot;&quot;;</span>
	}

	public String getUsage() {
		try {
<span class="fc" id="L415">			final CliFlagDoc annotation = CliFlag.class.getField(this.name()).getAnnotation(CliFlagDoc.class);</span>
<span class="pc bpc" id="L416" title="1 of 4 branches missed.">			if (annotation != null &amp;&amp; !annotation.usage().isEmpty()) {</span>
<span class="fc" id="L417">				final String usage = annotation.usage();</span>
<span class="fc bfc" id="L418" title="All 2 branches covered.">				if (usage.startsWith(&quot;--&quot;))</span>
<span class="fc" id="L419">					return &quot;     &quot; + usage;</span>
<span class="fc" id="L420">				return &quot; &quot; + usage;</span>
			}

<span class="nc" id="L423">		} catch (NoSuchFieldException e) {</span>
			// Should never happen for enum constants
<span class="fc" id="L425">		}</span>
<span class="fc bfc" id="L426" title="All 2 branches covered.">		for (String alias : aliases)</span>
<span class="fc bfc" id="L427" title="All 2 branches covered.">			if (alias.length() == 2)</span>
<span class="fc" id="L428">				return &quot; &quot; + alias + &quot;, &quot; + getFlag();</span>

<span class="fc" id="L430">		return &quot;     &quot; + getFlag();</span>
	}

	public int getFlagLevel() {
		try {
<span class="fc" id="L435">			final CliFlagDoc annotation = CliFlag.class.getField(this.name()).getAnnotation(CliFlagDoc.class);</span>
<span class="fc bfc" id="L436" title="All 2 branches covered.">			if (annotation != null)</span>
<span class="fc" id="L437">				return annotation.level();</span>

<span class="nc" id="L439">		} catch (NoSuchFieldException e) {</span>
			// Should never happen for enum constants
<span class="fc" id="L441">		}</span>
<span class="fc" id="L442">		return -1;</span>
	}

	public String getDefaultValue() {
		try {
<span class="fc" id="L447">			final CliDefaultValue annotation = CliFlag.class.getField(this.name()).getAnnotation(CliDefaultValue.class);</span>
<span class="pc bpc" id="L448" title="1 of 4 branches missed.">			if (annotation != null &amp;&amp; !annotation.value().isEmpty())</span>
<span class="fc" id="L449">				return annotation.value();</span>

<span class="nc" id="L451">		} catch (NoSuchFieldException e) {</span>
			// Should never happen for enum constants
<span class="fc" id="L453">		}</span>
<span class="fc" id="L454">		return null;</span>
	}

	public Object getFoo() {
<span class="fc" id="L458">		return foo;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>